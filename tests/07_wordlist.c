#include <ptrie.h>
#include <sunit.h>

#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <malloc.h>

/*
 * These words derived from a random subset from
 * http://www.kilgarriff.co.uk/bnc-readme.html. I tried to filter bad
 * words, and very much appreciate the British spelling.
 *
 * There are multiple copies in this list.
 */

char *words[] = {
	"net",
	"win",
	"eyebrow",
	"circle",
	"stiff",
	"familiar",
	"attachment",
	"better",
	"cigarette",
	"out",
	"coming",
	"or",
	"pioneer",
	"expose",
	"curriculum",
	"presidency",
	"inner",
	"time",
	"typical",
	"none",
	"resume",
	"camera",
	"house",
	"attendance",
	"portable",
	"rocket",
	"mushroom",
	"dispute",
	"missing",
	"conscience",
	"end",
	"poison",
	"equally",
	"rage",
	"plate",
	"referral",
	"afterwards",
	"except",
	"prosperity",
	"repair",
	"provider",
	"enthusiast",
	"grammar",
	"tick",
	"wander",
	"refer",
	"arm",
	"retreat",
	"heavy",
	"confrontation",
	"concert",
	"relief",
	"bother",
	"through",
	"merely",
	"salad",
	"consistently",
	"increasing",
	"scramble",
	"powerful",
	"prior",
	"dream",
	"fulfil",
	"engineer",
	"vocabulary",
	"famous",
	"throat",
	"rain",
	"match",
	"minor",
	"scan",
	"accurately",
	"swift",
	"clean",
	"trading",
	"evidently",
	"estimate",
	"suspect",
	"vision",
	"man",
	"of",
	"why",
	"bulletin",
	"linear",
	"preach",
	"more",
	"principle",
	"close",
	"spell",
	"curve",
	"taste",
	"instantly",
	"open",
	"prescription",
	"insert",
	"guest",
	"thrust",
	"whenever",
	"density",
	"calcium",
	"maid",
	"continuing",
	"tolerate",
	"float",
	"acknowledge",
	"talking",
	"initial",
	"aggregate",
	"stumble",
	"medium",
	"stance",
	"parameter",
	"initiate",
	"hand",
	"cover",
	"row",
	"banner",
	"prosecute",
	"compose",
	"aim",
	"crown",
	"accept",
	"differential",
	"embarrassed",
	"yep",
	"page",
	"age",
	"rare",
	"conjunction",
	"litigation",
	"clear",
	"profitability",
	"profit",
	"outlook",
	"presumably",
	"empire",
	"confession",
	"invent",
	"pump",
	"fancy",
	"continental",
	"wherever",
	"coach",
	"lively",
	"something",
	"recession",
	"imagination",
	"realize",
	"heavily",
	"cheese",
	"bell",
	"low",
	"lend",
	"unite",
	"regulate",
	"ought",
	"accordingly",
	"horn",
	"area",
	"remarkable",
	"threshold",
	"miracle",
	"retire",
	"diagnosis",
	"sickness",
	"gallery",
	"intellectual",
	"tour",
	"reservoir",
	"up",
	"pad",
	"purchaser",
	"conceive",
	"homework",
	"assign",
	"equal",
	"bright",
	"apart",
	"scientific",
	"translate",
	"joke",
	"cap",
	"mammal",
	"questionnaire",
	"compel",
	"creation",
	"access",
	"haul",
	"binding",
	"towel",
	"asleep",
	"officially",
	"publication",
	"patch",
	"abroad",
	"update",
	"lecture",
	"score",
	"persuade",
	"exceed",
	"involved",
	"series",
	"trade",
	"narrow",
	"ethics",
	"plain",
	"referee",
	"workstation",
	"concede",
	"powder",
	"payment",
	"plenty",
	"offset",
	"onwards",
	"before",
	"suspend",
	"psychiatric",
	"finger",
	"alter",
	"sit",
	"striking",
	"visual",
	"explanation",
	"feminine",
	"bless",
	"local",
	"compulsory",
	"appreciate",
	"solicitor",
	"museum",
	"sell",
	"foundation",
	"advise",
	"nominal",
	"fortune",
	"drift",
	"accumulation",
	"provisional",
	"yet",
	"roll",
	"land",
	"battle",
	"vote",
	"curl",
	"discussion",
	"select",
	"offering",
	"excess",
	"fashion",
	"infrastructure",
	"supplement",
	"harvest",
	"wide",
	"spare",
	"rebellion",
	"item",
	"back",
	"enhance",
	"drown",
	"bag",
	"magazine",
	"broadcast",
	"machinery",
	"timetable",
	"dominant",
	"my",
	"material",
	"may",
	"bureau",
	"chaos",
	"forward",
	"terminal",
	"the",
	"outer",
	"call",
	"incident",
	"castle",
	"urgently",
	"decorate",
	"complex",
	"except",
	"humble",
	"beneficial",
	"woman",
	"precedent",
	"neighbour",
	"recording",
	"disability",
	"proclaim",
	"disguise",
	"his",
	"adequate",
	"sense",
	"hypothesis",
	"electorate",
	"bargain",
	"circumstance",
	"moral",
	"metropolitan",
	"biology",
	"traditionally",
	"shy",
	"psychologist",
	"across",
	"death",
	"biological",
	"improvement",
	"preliminary",
	"experimental",
	"jewellery",
	"welcome",
	"assistant",
	"corresponding",
	"smooth",
	"waist",
	"x-ray",
	"throne",
	"pretty",
	"block",
	"totally",
	"blonde",
	"prejudice",
	"brewery",
	"date",
	"decoration",
	"grim",
	"trace",
	"builder",
	"locate",
	"able",
	"comply",
	"slave",
	"state",
	"question",
	"price",
	"bang",
	"put",
	"seal",
	"represent",
	"borrow",
	"colour",
	"shape",
	"viewpoint",
	"lung",
	"swimming",
	"interest",
	"depart",
	"beam",
	"incidence",
	"mention",
	"assault",
	"audit",
	"opposite",
	"generous",
	"oil",
	"cooking",
	"joy",
	"threat",
	"hat",
	"burst",
	"burn",
	"licence",
	"accommodate",
	"photographer",
	"discount",
	"manual",
	"pay",
	"entitlement",
	"charming",
	"medium",
	"release",
	"will",
	"manipulate",
	"price",
	"on",
	"few",
	"embody",
	"fully",
	"seminar",
	"therapist",
	"solidarity",
	"stop",
	"ruling",
	"behave",
	"announce",
	"go",
	"over",
	"exchange",
	"warrant",
	"lesser",
	"neutral",
	"expense",
	"actually",
	"exert",
	"continuous",
	"evolve",
	"boost",
	"list",
	"as",
	"reward",
	"council",
	"anticipation",
	"diamond",
	"itself",
	"kneel",
	"tradition",
	"dinner",
	"rank",
	"exciting",
	"axis",
	"observation",
	"recruit",
	"bear",
	"electronics",
	"difficulty",
	"seasonal",
	"jazz",
	"efficiency",
	"type",
	"swing",
	"guarantee",
	"remedy",
	"export",
	"enthusiasm",
	"poison",
	"hold",
	"scatter",
	"hardware",
	"work",
	"myself",
	"punish",
	"family",
	"differ",
	"grave",
	"marathon",
	"harbour",
	"butterfly",
	"station",
	"legitimate",
	"fragile",
	"primary",
	"agricultural",
	"exclusively",
	"nor",
	"provide",
	"them",
	"restore",
	"detect",
	"advertise",
	"flat",
	"disrupt",
	"waste",
	"lamp",
	"painful",
	"oven",
	"unexpectedly",
	"quit",
	"rebel",
	"mind",
	"state",
	"dealing",
	"interference",
	"adjective",
	"integrate",
	"variety",
	"pale",
	"exile",
	"knock",
	"obvious",
	"commercial",
	"license",
	"principal",
	"scope",
	"modern",
	"methodology",
	"conventional",
	"unable",
	"trigger",
	"immediately",
	"art",
	"conduct",
	"negligence",
	"vessel",
	"appeal",
	"limit",
	"see",
	"view",
	"bump",
	"overwhelm",
	"sip",
	"propose",
	"overview",
	"supply",
	"cell",
	"drum",
	"bucket",
	"molecule",
	"strangely",
	"capable",
	"gap",
	"remark",
	"interpret",
	"challenge",
	"inspection",
	"staff",
	"trivial",
	"attend",
	"sink",
	"molecular",
	"photographic",
	"beer",
	"translation",
	"fork",
	"insider",
	"address",
	"counterpart",
	"revelation",
	"intercourse",
	"flat",
	"inspect",
	"dish",
	"stop",
	"dancing",
	"spy",
	"blame",
	"procession",
	"allegedly",
	"trustee",
	"nowadays",
	"stock",
	"institution",
	"circular",
	"dioxide",
	"lover",
	"cage",
	"salon",
	"considerable",
	"boring",
	"professional",
	"fee",
	"usage",
	"that",
	"observe",
	"highly",
	"breakfast",
	"condition",
	"deliberately",
	"assure",
	"protective",
	"reserve",
	"escape",
	"nitrogen",
	"mountain",
	"abortion",
	"heap",
	"mount",
	"instruction",
	"enquiry",
	"ambulance",
	"nationalist",
	"no",
	"sunny",
	"ridge",
	"apparently",
	"few",
	"bloody",
	"national",
	"banana",
	"rider",
	"obviously",
	"space",
	"tower",
	"market",
	"percent",
	"wire",
	"membrane",
	"material",
	"stretch",
	"remind",
	"gear",
	"gothic",
	"formidable",
	"counselling",
	"chairman",
	"ill",
	"once",
	"hen",
	"you",
	"mosaic",
	"headquarters",
	"plausible",
	"fossil",
	"empty",
	"fill",
	"overseas",
	"train",
	"coup",
	"book",
	"balance",
	"prospective",
	"continually",
	"employ",
	"carriage",
	"passive",
	"appreciation",
	"consistency",
	"trait",
	"exit",
	"softly",
	"spine",
	"strengthen",
	"distort",
	"apply",
	"punishment",
	"monitor",
	"coal",
	"saint",
	"telecommunication",
	"ignore",
	"activity",
	"covenant",
	"consumer",
	"complete",
	"horizon",
	"analyse",
	"squadron",
	"anyone",
	"brandy",
	"expectation",
	"transmit",
	"scrap",
	"surprise",
	"trip",
	"cast",
	"patent",
	"executive",
	"coordinate",
	"flag",
	"function",
	"bomb",
	"unless",
	"mess",
	"monk",
	"talent",
	"site",
	"wise",
	"however",
	"cater",
	"golden",
	"damp",
	"possibility",
	"overlook",
	"like",
	"inside",
	"reluctant",
	"fail",
	"conspiracy",
	"before",
	"nail",
	"label",
	"physician",
	"specimen",
	"drunk",
	"feast",
	"wagon",
	"ozone",
	"rape",
	"fairly",
	"kick",
	"potential",
	"flavour",
	"must",
	"enquire",
	"disaster",
	"holding",
	"spokesman",
	"focus",
	"control",
	"stair",
	"consolidate",
	"particular",
	"plot",
	"scholar",
	"survive",
	"drop",
	"admission",
	"another",
	"any",
	"post",
	"dwelling",
	"strip",
	"exhibit",
	"representative",
	"clever",
	"closure",
	"pal",
	"power",
	"omit",
	"our",
	"department",
	"owe",
	"torch",
	"storm",
	"responsibility",
	"fluctuation",
	"much",
	"virtual",
	"continue",
	"noticeable",
	"inquiry",
	"shared",
	"bolt",
	"rush",
	"shareholder",
	"professor",
	"superintendent",
	"shrug",
	"attacker",
	"range",
	"glow",
	"assembly",
	"directive",
	"teenage",
	"fusion",
	"pocket",
	"spin",
	"orbit",
	"accord",
	"polish",
	"gathering",
	"function",
	"noisy",
	"propaganda",
	"television",
	"hint",
	"homeless",
	"to",
	"unrest",
	"discover",
	"distinguished",
	"job",
	"instant",
	"potentially",
	"frequency",
	"temptation",
	"flower",
	"generally",
	"past",
	"infect",
	"hers",
	"meadow",
	"reason",
	"heritage",
	"syndrome",
	"preservation",
	"hedge",
	"immune",
	"superb",
	"lately",
	"parliament",
	"waiting",
	"parallel",
	"stain",
	"encounter",
	"taxation",
	"attack",
	"kitchen",
	"denial",
	"hide",
	"descent",
	"brick",
	"sound",
	"referendum",
	"conclude",
	"due",
	"knowledge",
	"fit",
	"measure",
	"advertising",
	"sweep",
	"vanish",
	"assistant",
	"false",
	"ideal",
	"irony",
	"fund",
	"diverse",
	"war",
	"naval",
	"operator",
	"theorist",
	"estate",
	"negotiate",
	"bar",
	"walk",
	"free",
	"rise",
	"grand",
	"help",
	"delivery",
	"emergence",
	"shiver",
	"spite",
	"secondly",
	"interior",
	"likely",
	"pencil",
	"horizontal",
	"abnormal",
	"fade",
	"interested",
	"chalk",
	"mode",
	"imprison",
	"scratch",
	"ambassador",
	"manager",
	"stick",
	"darkness",
	"lid",
	"dear",
	"interaction",
	"terrace",
	"polymer",
	"dairy",
	"safely",
	"atom",
	"tall",
	"enough",
	"library",
	"injunction",
	"staircase",
	"beneficiary",
	"underline",
	"model",
	"exam",
	"survey",
	"calculate",
	"sometimes",
	"aquarium",
	"commission",
	"elsewhere",
	"trained",
	"recovery",
	"dawn",
	"probably",
	"short",
	"clothing",
	"farm",
	"air",
	"technical",
	"cotton",
	"evoke",
	"cabinet",
	"concerned",
	"stick",
	"statistics",
	"pile",
	"city",
	"doing",
	"sphere",
	"organize",
	"lifetime",
	"fine",
	"elegant",
	"property",
	"equal",
	"applicant",
	"wisdom",
	"close",
	"keeper",
	"lamb",
	"librarian",
	"static",
	"sight",
	"into",
	"accurate",
	"stand",
	"handful",
	"councillor",
	"commerce",
	"specified",
	"salt",
	"bank",
	"internal",
	"marsh",
	"valuation",
	"thoroughly",
	"topic",
	"virtue",
	"pensioner",
	"production",
	"threaten",
	"fortunate",
	"correct",
	"finished",
	"execution",
	"show",
	"clash",
	"around",
	"lot",
	"adoption",
	"custody",
	"committee",
	"weapon",
	"lake",
	"sociological",
	"method",
	"minute",
	"favour",
	"plaster",
	"unpleasant",
	"mass",
	"wide",
	"integrity",
	"ambitious",
	"candidate",
	"safe",
	"necessity",
	"balloon",
	"ban",
	"cheer",
	"disappear",
	"nun",
	"tax",
	"strictly",
	"society",
	"off",
	"corridor",
	"future",
	"gallon",
	"allowance",
	"import",
	"notebook",
	"about",
	"approach",
	"appetite",
	"productivity",
	"interactive",
	"do",
	"liaison",
	"link",
	"pound",
	"underlying",
	"occurrence",
	"deck",
	"object",
	"dance",
	"high",
	"herself",
	"sovereignty",
	"bored",
	"act",
	"suggestion",
	"disagree",
	"run",
	"smash",
	"goalkeeper",
	"rebuild",
	"utility",
	"early",
	"ground",
	"labour",
	"collapse",
	"fur",
	"wave",
	"promptly",
	"dominance",
	"pond",
	"derive",
	"mug",
	"nicely",
	"soup",
	"nucleus",
	"out",
	"ministerial",
	"own",
	"pressure",
	"deliver",
	"nearby",
	"absorption",
	"blink",
	"category",
	"spelling",
	"ribbon",
	"purpose",
	"further",
	"glimpse",
	"conflict",
	"presently",
	"deputy",
	"surgeon",
	"code",
	"comedy",
	"water",
	"allow",
	"tape",
	"participation",
	"distract",
	"rear",
	"advice",
	"morale",
	"gun",
	"additional",
	"wood",
	"pollution",
	"neither",
	"bourgeois",
	"increase",
	"friendship",
	"bass",
	"vegetation",
	"very",
	"inclined",
	"combine",
	"authorise",
	"bicycle",
	"deter",
	"disclosure",
	"opposite",
	"make",
	"camp",
	"task",
	"neighbourhood",
	"net",
	"win",
	"eyebrow",
	"circle",
	"stiff",
	"familiar",
	"attachment",
	"better",
	"cigarette",
	"out",
	"coming",
	"or",
	"pioneer",
	"expose",
	"curriculum",
	"presidency",
	"inner",
	"time",
	"typical",
	"none",
	"resume",
	"camera",
	"house",
	"attendance",
	"portable",
	"rocket",
	"mushroom",
	"dispute",
	"missing",
	"conscience",
	"end",
	"poison",
	"equally",
	"rage",
	"plate",
	"referral",
	"afterwards",
	"except",
	"prosperity",
	"repair",
	"provider",
	"enthusiast",
	"grammar",
	"tick",
	"wander",
	"refer",
	"arm",
	"retreat",
	"heavy",
	"confrontation",
	"concert",
	"relief",
	"bother",
	"through",
	"merely",
	"salad",
	"consistently",
	"increasing",
	"scramble",
	"powerful",
	"prior",
	"dream",
	"fulfil",
	"engineer",
	"vocabulary",
	"famous",
	"throat",
	"rain",
	"match",
	"minor",
	"scan",
	"accurately",
	"swift",
	"clean",
	"trading",
	"evidently",
	"estimate",
	"suspect",
	"vision",
	"man",
	"of",
	"why",
	"bulletin",
	"linear",
	"preach",
	"more",
	"principle",
	"close",
	"spell",
	"curve",
	"taste",
	"instantly",
	"open",
	"prescription",
	"insert",
	"guest",
	"thrust",
	"whenever",
	"density",
	"calcium",
	"maid",
	"continuing",
	"tolerate",
	"float",
	"acknowledge",
	"talking",
	"initial",
	"aggregate",
	"stumble",
	"medium",
	"stance",
	"parameter",
	"initiate",
	"hand",
	"cover",
	"row",
	"banner",
	"prosecute",
	"compose",
	"aim",
	"crown",
	"accept",
	"differential",
	"embarrassed",
	"yep",
	"page",
	"age",
	"rare",
	"conjunction",
	"litigation",
	"clear",
	"profitability",
	"profit",
	"outlook",
	"presumably",
	"empire",
	"confession",
	"invent",
	"pump",
	"fancy",
	"continental",
	"wherever",
	"coach",
	"lively",
	"something",
	"recession",
	"imagination",
	"realize",
	"heavily",
	"cheese",
	"bell",
	"low",
	"lend",
	"unite",
	"regulate",
	"ought",
	"accordingly",
	"horn",
	"area",
	"remarkable",
	"threshold",
	"miracle",
	"retire",
	"diagnosis",
	"sickness",
	"gallery",
	"intellectual",
	"tour",
	"reservoir",
	"up",
	"pad",
	"purchaser",
	"conceive",
	"homework",
	"assign",
	"equal",
	"bright",
	"apart",
	"scientific",
	"translate",
	"joke",
	"cap",
	"mammal",
	"questionnaire",
	"compel",
	"creation",
	"access",
	"haul",
	"binding",
	"towel",
	"asleep",
	"officially",
	"publication",
	"patch",
	"abroad",
	"update",
	"lecture",
	"score",
	"persuade",
	"exceed",
	"involved",
	"series",
	"trade",
	"narrow",
	"ethics",
	"plain",
	"referee",
	"workstation",
	"concede",
	"powder",
	"payment",
	"plenty",
	"offset",
	"onwards",
	"before",
	"suspend",
	"psychiatric",
	"finger",
	"alter",
	"sit",
	"striking",
	"visual",
	"explanation",
	"feminine",
	"bless",
	"local",
	"compulsory",
	"appreciate",
	"solicitor",
	"museum",
	"sell",
	"foundation",
	"advise",
	"nominal",
	"fortune",
	"drift",
	"accumulation",
	"provisional",
	"yet",
	"roll",
	"land",
	"battle",
	"vote",
	"curl",
	"discussion",
	"select",
	"offering",
	"excess",
	"fashion",
	"infrastructure",
	"supplement",
	"harvest",
	"wide",
	"spare",
	"rebellion",
	"item",
	"back",
	"enhance",
	"drown",
	"bag",
	"magazine",
	"broadcast",
	"machinery",
	"timetable",
	"dominant",
	"my",
	"material",
	"may",
	"bureau",
	"chaos",
	"forward",
	"terminal",
	"the",
	"outer",
	"call",
	"incident",
	"castle",
	"urgently",
	"decorate",
	"complex",
	"except",
	"humble",
	"beneficial",
	"woman",
	"precedent",
	"neighbour",
	"recording",
	"disability",
	"proclaim",
	"disguise",
	"his",
	"adequate",
	"sense",
	"hypothesis",
	"electorate",
	"bargain",
	"circumstance",
	"moral",
	"metropolitan",
	"biology",
	"traditionally",
	"shy",
	"psychologist",
	"across",
	"death",
	"biological",
	"improvement",
	"preliminary",
	"experimental",
	"jewellery",
	"welcome",
	"assistant",
	"corresponding",
	"smooth",
	"waist",
	"x-ray",
	"throne",
	"pretty",
	"block",
	"totally",
	"blonde",
	"prejudice",
	"brewery",
	"date",
	"decoration",
	"grim",
	"trace",
	"builder",
	"locate",
	"able",
	"comply",
	"slave",
	"state",
	"question",
	"price",
	"bang",
	"put",
	"seal",
	"represent",
	"borrow",
	"colour",
	"shape",
	"viewpoint",
	"lung",
	"swimming",
	"interest",
	"depart",
	"beam",
	"incidence",
	"mention",
	"assault",
	"audit",
	"opposite",
	"generous",
	"oil",
	"cooking",
	"joy",
	"threat",
	"hat",
	"burst",
	"burn",
	"licence",
	"accommodate",
	"photographer",
	"discount",
	"manual",
	"pay",
	"entitlement",
	"charming",
	"medium",
	"release",
	"will",
	"manipulate",
	"price",
	"on",
	"few",
	"embody",
	"fully",
	"seminar",
	"therapist",
	"solidarity",
	"stop",
	"ruling",
	"behave",
	"announce",
	"go",
	"over",
	"exchange",
	"warrant",
	"lesser",
	"neutral",
	"expense",
	"actually",
	"exert",
	"continuous",
	"evolve",
	"boost",
	"list",
	"as",
	"reward",
	"council",
	"anticipation",
	"diamond",
	"itself",
	"kneel",
	"tradition",
	"dinner",
	"rank",
	"exciting",
	"axis",
	"observation",
	"recruit",
	"bear",
	"electronics",
	"difficulty",
	"seasonal",
	"jazz",
	"efficiency",
	"type",
	"swing",
	"guarantee",
	"remedy",
	"export",
	"enthusiasm",
	"poison",
	"hold",
	"scatter",
	"hardware",
	"work",
	"myself",
	"punish",
	"family",
	"differ",
	"grave",
	"marathon",
	"harbour",
	"butterfly",
	"station",
	"legitimate",
	"fragile",
	"primary",
	"agricultural",
	"exclusively",
	"nor",
	"provide",
	"them",
	"restore",
	"detect",
	"advertise",
	"flat",
	"disrupt",
	"waste",
	"lamp",
	"painful",
	"oven",
	"unexpectedly",
	"quit",
	"rebel",
	"mind",
	"state",
	"dealing",
	"interference",
	"adjective",
	"integrate",
	"variety",
	"pale",
	"exile",
	"knock",
	"obvious",
	"commercial",
	"license",
	"principal",
	"scope",
	"modern",
	"methodology",
	"conventional",
	"unable",
	"trigger",
	"immediately",
	"art",
	"conduct",
	"negligence",
	"vessel",
	"appeal",
	"limit",
	"see",
	"view",
	"bump",
	"overwhelm",
	"sip",
	"propose",
	"overview",
	"supply",
	"cell",
	"drum",
	"bucket",
	"molecule",
	"strangely",
	"capable",
	"gap",
	"remark",
	"interpret",
	"challenge",
	"inspection",
	"staff",
	"trivial",
	"attend",
	"sink",
	"molecular",
	"photographic",
	"beer",
	"translation",
	"vanish",
	"abroad",
	"methodology",
	"monitor",
	"invent",
	"harvest",
	"offering",
	"surprise",
	"lamb",
	"jazz",
	"ambulance",
	"monk",
	"interior",
	"water",
	"pay",
	"time",
	"injunction",
	"heavy",
	"questionnaire",
	"allow",
	"disaster",
	"principle",
	"clean",
	"must",
	"bear",
	"cigarette",
	"approach",
	"city",
	"site",
	"equal",
	"clever",
	"may",
	"better",
	"tall",
	"homeless",
	"consumer",
	"challenge",
	"missing",
	"evidently",
	"confession",
	"commission",
	"curl",
	"pocket",
	"blonde",
	"liaison",
	"the",
	"relief",
	"elsewhere",
	"reason",
	"tick",
	"survey",
	"encounter",
	"disappear",
	"engineer",
	"advise",
	"comply",
	"bother",
	"float",
	"state",
	"calculate",
	"differential",
	"will",
	"go",
	"close",
	"initiate",
	"hand",
	"spell",
	"damp",
	"exciting",
	"breakfast",
	"punish",
	"waste",
	"taste",
	"adoption",
	"fulfil",
	"chaos",
	"myself",
	"technical",
	"swift",
	"close",
	"pollution",
	"appreciation",
	"neutral",
	"ideal",
	"syndrome",
	"fail",
	"stock",
	"tradition",
	"solicitor",
	"plain",
	"anyone",
	"national",
	"entitlement",
	"assault",
	"lend",
	"traditionally",
	"guest",
	"tape",
	"attacker",
	"attachment",
	"noisy",
	"fortunate",
	"accord",
	"infrastructure",
	"fee",
	"family",
	"announce",
	"except",
	"make",
	"control",
	"ought",
	"complex",
	"passive",
	"depart",
	"seasonal",
	"stair",
	"specimen",
	"ribbon",
	"infect",
	"pal",
	"inspect",
	"spin",
	"book",
	"into",
	"asleep",
	"evolve",
	"conflict",
	"derive",
	"minute",
	"across",
	"before",
	"price",
	"announce",
	"access",
	"cage",
	"responsibility",
	"safe",
	"maid",
	"chaos",
	"attend",
	"staff",
	"commission",
	"obviously",
	"remind",
	"aquarium",
	"underline",
	"trace",
	"horizontal",
	"organize",
	"accordingly",
	"poison",
	"photographer",
	"dominance",
	"concede",
	"lend",
	"post",
	"remark",
	"strangely",
	"discussion",
	"export",
	"powerful",
	"balloon",
	"immediately",
	"specified",
	"commercial",
	"pay",
	"trading",
	"disability",
	"department",
	"immediately",
	"retire",
	"magazine",
	"threshold",
	"aggregate",
	"softly",
	"comply",
	"overlook",
	"haul",
	"out",
	"inner",
	"rape",
	"apart",
	"heavily",
	"hen",
	"hint",
	"imagination",
	"about",
	"smooth",
	"fusion",
	"deck",
	"instant",
	"mess",
	"balance",
	"hedge",
	"headquarters",
	"accurate",
	"fade",
	"psychiatric",
	"transmit",
	"drum",
	"smooth",
	"probably",
	"joy",
	"wander",
	"battle",
	"gear",
	"survive",
	"slave",
	"run",
	"interaction",
	"exchange",
	"responsibility",
	"plot",
	"curriculum",
	"trade",
	"adequate",
	"neighbourhood",
	"chalk",
	"creation",
	"herself",
	"provide",
	"minor",
	"bolt",
	"consolidate",
	"dance",
	"stiff",
	"damp",
	"our",
	"prosecute",
	"lot",
	"weapon",
	"persuade",
	"family",
	"exile",
	"through",
	"harbour",
	"due",
	"wide",
	"humble",
	"boring",
	"offering",
	"coup",
	"conceive",
	"precedent",
	"councillor",
	"engineer",
	"forward",
	"shy",
	"initial",
	"exclusively",
	"city",
	"librarian",
	"vegetation",
	"fancy",
	"psychologist",
	"electorate",
	"hardware",
	"biological",
	"lively",
	"thoroughly",
	"unable",
	"water",
	"plaster",
	"suspend",
	"solicitor",
	"humble",
	"list",
	"assistant",
	"medium",
	"sphere",
	"seasonal",
	"pay",
	"infect",
	"about",
	"end",
	"anyone",
	"swift",
	"condition",
	"fancy",
	"insert",
	"act",
	"tax",
	"harvest",
	"spokesman",
	"commerce",
	"stain",
	"across",
	"orbit",
	"machinery",
	"deliberately",
	"modern",
	"finger",
	"vegetation",
	"irony",
	"photographic",
	"chalk",
	"incidence",
	"traditionally",
	"equal",
	"descent",
	"appeal",
	"offering",
	"rank",
	"interest",
	"enough",
	"flag",
	"city",
	"nun",
	"omit",
	"represent",
	"boring",
	"wander",
	"mount",
	"any",
	"rare",
	"repair",
	"unpleasant",
	"smooth",
	"across",
	"boost",
	"threat",
	"urgently",
	"city",
	"liaison",
	"unrest",
	"pump",
	"you",
	"orbit",
	"sound",
	"stance",
	"eyebrow",
	"function",
	"explanation",
	"minute",
	"distinguished",
	"more",
	"overlook",
	"discount",
	"tour",
	"block",
	"weapon",
	"age",
	"more",
	"authorise",
	"may",
	"grave",
	"announce",
	"remedy",
	"asleep",
	"enhance",
	"coming",
	"methodology",
	NULL
};

struct test {
	char *query, *answer;
};

/* Chosen manually from the list */
static struct test tests[] = {
        { .query = "ab", .answer = "about"},
	{ .query = "acc", .answer = "access"},
	{ .query = "ac", .answer = "across"},
	{ .query = "a", .answer = "across"},
	{ .query = "app", .answer = "appeal"},
	{ .query = "atta", .answer = "attachment"},
	{ .query = "biolo", .answer = "biological"},
	{ .query = "bo", .answer = "boost"},
	{ .query = "ca", .answer = "cage"},
	{ .query = "c", .answer = "city"},
	{ .query = "co", .answer = "comply"},
	{ .query = "un", .answer = "unable"},
	{ .query = "tra", .answer = "traditionally"},
	{ .query = "th", .answer = "the"},
	{ .query = "sus", .answer = "suspend"},
	{ .query = "pre", .answer = "precedent"},
	{ .query = "p", .answer = "pay"},
	{ .query = "for", .answer = "forward"},
	{ .query = "ex", .answer = "except"},
	{ .query = "e", .answer = "equal"},
	{ .query = "", .answer = "across"},
	{ .query = NULL, },
};

sunit_ret_t
test_wordlist(void)
{
	struct ptrie *pt;
	int i;

	pt = ptrie_allocate();
	SUNIT_ASSERT("ptrie allocate", pt);

	for (i = 0; words[i]; i++) {
		SUNIT_ASSERT("ptrie add", ptrie_add(pt, words[i]) != -1);
	}

	for (i = 0; tests[i].query != NULL; i++) {
		char *ret = ptrie_autocomplete(pt, tests[i].query);

		SUNIT_ASSERT("autocomplete with copies", ret != NULL && strcmp(ret, tests[i].answer) == 0);

		free(ret);
	}
	ptrie_free(pt);

	return SUNIT_SUCCESS;
}

int
main(void)
{
	struct sunit_test tests[] = {
		SUNIT_TEST("wordlist", test_wordlist),
		SUNIT_TEST_TERM
	};
	sunit_execute("multi-wordlist", tests);

	return 0;
}
